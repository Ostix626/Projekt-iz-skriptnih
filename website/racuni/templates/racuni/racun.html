{% extends 'racuni/base.html' %}
{% load static %}
{% load racuni_tags %}

{% block title %}Račun{% endblock %}
{% block a4 %}active{% endblock %}

{% block head %}
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/dataTables.bootstrap4.min.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.5.2/css/buttons.bootstrap4.min.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.bootstrap4.min.css">
{% endblock %}


{% block body %}
{% if racun %}
    {% for r in racun %}
        <h4>Dobavljač i objekt:&nbsp {{ r.firma }}</h4>
        <h5>Broj računa:&nbsp {{ r.broj_racuna }}</h5>
        <h5>Datum:&nbsp {{ r.datum|date:"d.m.Y." }}</h5>
    {% endfor %}
{% endif %}
<div class="container mb-5 mt-3">
  {% if all_materijal %}
  <table class="table table-sm table-striped table-hover table-bordered dt-responsive nowrap" id="table_id" style="width:100%">
      <thead>
        <tr>
          <th>Redni br.</th>
          <th>Šifra</th>
          <th>Naziv materijala</th>
          <th>Jed. mjere</th>
          <th>Količina</th>
          <th>Cijena</th>
          <th>Vrijednost</th>
        </tr>
      </thead>
      <tbody>
        {% for materijal in all_materijal %}
          <tr>
              <td>{{ forloop.counter }}</td>
              <td>{{ materijal.materijalID.sifra }}</td>
              <td>{{ materijal.materijalID.naziv }}</td>
              <td>{{ materijal.materijalID.mjerna_jedinica }}</td>
              <td>{{ materijal.kolicina }}</td>
              <td>{{ materijal.materijalID.cijena }} kn</td>
              <td>{% multiply materijal.kolicina materijal.materijalID.cijena %} kn</td>
          </tr>
          {% endfor %}
      </tbody>
      <tfoot>
      </tfoot>
    </table>
    {% else %}
      <h2>Nema materijala u računu</h2>
    {% endif %}
  {% endblock %}
</div>

{% block bottom %}
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.bootstrap4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.colVis.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.3/js/responsive.bootstrap4.min.js"></script>

<script src="{% static 'datatable/datatable.js' %}"></script>
{% endblock %}