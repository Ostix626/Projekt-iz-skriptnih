{% extends 'racuni/base.html' %}
{% load static %} 

{% block a2 %}active{% endblock %}

{% block head2 %}
  <link rel="stylesheet"  text="text/css" href="{% static 'datepicker/bootstrap-datepicker.css' %}">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
{% endblock %}

{% block body %}
<div class="form-row">
  <div class="form-group col-md-3">
    <h1>Ulazni račun</h1>
  </div>
  <div class="form-group col-md-5" style="margin-top: 6px;">
    <div class="input-group">
        <label class="input-group-btn">
            <span class="btn btn-outline-light">
                Odaberi CSV&hellip; <input type="file" id="inputfile" style="display: none;">
            </span>
        </label>
        <input type="text" class="form-control" readonly>
    </div>
</div>
  <div class="form-group col-md-2" style="margin-top: 6px;">
      <input type="button" id="viewfile" value="Učitaj CSV tablicu" class="btn btn-outline-light"/>
  </div>
</div>
<form class="needs-validation" method="POST" action="{% url 'ulaz' %}" autocomplete="off" novalidate>
  {% csrf_token %}
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputDobavljac">Naziv dobavljača:</label>
      <input type="text" name="dobavljac" class="form-control" id="inputDobavljac" placeholder="Naziv-objekt" required>
      <div class="invalid-feedback">Unesi naziv dobavljača</div>
    </div>
    <div class="form-group col-md-3">
      <label for="inputRacun">Broj računa:</label>
      <input type="text" name="br_racuna" class="form-control" id="inputRacun" placeholder="12-34-56" required>
      <div class="invalid-feedback">Unesi broj računa </div>
    </div>
    <div class="form-group col-md-3">
      <label for="inputDatum">Datum računa:</label>
      <input class="datepicker form-control" name="datum_racuna" id="inputDatum" data-date-format="dd/mm/yyyy" placeholder="dd/mm/yyyy" type="text" required/>
      <div class="invalid-feedback">Unesi datum računa </div>
    </div>
  </div>

<hr>

  <div class="form-row">
      <div class="form-group col-md-2">
          <label for="one">Šifra:</label>
          <input type="text"  class="form-control" id="one">
      </div>
      <div class="form-group col-md-4">
          <label for="two">Naziv materijala:</label>
          <input type="text"  class="form-control" id="two"> 
      </div>
      <div class="form-group col-md-1">
          <label for="three">Količina:</label>
          <input type="number"  min="1" value="1" onfocus="this.select();" class="form-control" id="three" placeholder=">0">
      </div>
      <div class="form-group col-md-1">
        <label for="mj">MJ:</label>
        <input type="text"  class="form-control" value="KOM" id="mj"> 
    </div>
      <div class="form-group col-md-2">
          <label for="four">Cijena:</label>
          <input type="number"  min="0.01" step="0.01" class="form-control" id="four" placeholder="0.00 kn">
      </div>
      <div class="form-group col-md-1" style="margin-top: 32px;">
          <button type="button" id="dodaj" class="btn btn-outline-light material-icons" onclick="add()"></button>
      </div>
      <div class="form-group col-md-1" style="margin-top: 32px;">
          <button type="button" disabled=true id="izmijeni" class="btn btn-outline-light" onclick="update()">Izmijeni</button>
      </div>
  </div>

  <table class="table table-sm table-striped table-hover table-bordered">
  <thead>
      <th style="width: 5%;">Br.</th>
      <th style="width: 10%;">Šifra</th>
      <th style="width: 45%;">Naziv materijala</th>
      <th style="width: 5%;">Količina</th>
      <th style="width: 5%;">MJ</th>
      <th style="width: 10%;">Cijena (kn)</th>
      <th style="width: 15%;">Vrijednost (kn)</th>
      <th style="min-width: 64px;">Akcije</th>
  </thead>
  <tbody id="data">
  </tbody>
  </table>
  <div class="form-row">
      <div class="form-group col-md-5">
          <h5>Ukupno: <span id="ukupno">0</span> kn</h5>
      </div>
      <div class="form-group col-md-1">
          <input type="hidden" value="0" id="stavke" name="x" />
      </div>
      <div class="form-group col-md-6">
          <button type="submit" id="submit" disabled=true class="btn btn-outline-light" style="float: right;">Unesi</button>
      </div>
  </div>
</form>


{% endblock %}

{% block bottom %}
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>


<script src="{% static 'form/validation.js' %}" type="text/javascript"></script>

<script src="{% static 'form/addData.js' %}" type="text/javascript"></script>
<script src="{% static 'form/file.js' %}" type="text/javascript"></script>

<script src="{% static 'datepicker/bootstrap-datepicker.js' %}" type="text/javascript"></script>
<script src="{% static 'datepicker/datepicker.js' %}" type="text/javascript"></script>

{% endblock %}